<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class ServiceCollectionExtensions | CSF.Extensions.WebDriver </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class ServiceCollectionExtensions | CSF.Extensions.WebDriver ">
      
      <meta name="description" content="Extension methods for  to add web driver factory options, created from configuration.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/csf-dev/WebDriverExtras/new/master/apiSpec/new?filename=CSF_Extensions_WebDriver_ServiceCollectionExtensions.md&amp;value=---%0Auid%3A%20CSF.Extensions.WebDriver.ServiceCollectionExtensions%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="CSF.Extensions.WebDriver">
            CSF.Extensions.WebDriver
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions">



  <h1 id="CSF_Extensions_WebDriver_ServiceCollectionExtensions" data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions" class="text-break">
Class ServiceCollectionExtensions  <a class="header-action link-secondary" title="View source" href="https://github.com/csf-dev/WebDriverExtras/blob/master/CSF.Extensions.WebDriver/ServiceCollectionExtensions.cs/#L19"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="CSF.html">CSF</a>.<a class="xref" href="CSF.Extensions.html">Extensions</a>.<a class="xref" href="CSF.Extensions.WebDriver.html">WebDriver</a></dd></dl>
  <dl><dt>Assembly</dt><dd>CSF.Extensions.WebDriver.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Extension methods for <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection">IServiceCollection</a> to add web driver factory options, created from configuration.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static class ServiceCollectionExtensions</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">ServiceCollectionExtensions</span></div>
    </dd>
  </dl>



  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>






  <h2 class="section" id="methods">Methods
</h2>


  <a id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactory_" data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions.AddWebDriverFactory*"></a>

  <h3 id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactory_Microsoft_Extensions_DependencyInjection_IServiceCollection_Microsoft_Extensions_Configuration_IConfigurationSection_System_Action_CSF_Extensions_WebDriver_Factories_WebDriverCreationOptionsCollection__" data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions.AddWebDriverFactory(Microsoft.Extensions.DependencyInjection.IServiceCollection,Microsoft.Extensions.Configuration.IConfigurationSection,System.Action{CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection})">
  AddWebDriverFactory(IServiceCollection, IConfigurationSection, Action&lt;WebDriverCreationOptionsCollection&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/csf-dev/WebDriverExtras/blob/master/CSF.Extensions.WebDriver/ServiceCollectionExtensions.cs/#L113"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Adds/registers the web driver factory and related services for applications which make use of the Options &amp; Configuration
patterns, using a specified configuration section.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static IServiceCollection AddWebDriverFactory(this IServiceCollection services, IConfigurationSection configSection, Action&lt;WebDriverCreationOptionsCollection&gt; configureOptions = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>services</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection">IServiceCollection</a></dt>
    <dd><p>The service collection to which the services should be added.</p>
</dd>
    <dt><code>configSection</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.configuration.iconfigurationsection">IConfigurationSection</a></dt>
    <dd><p>A configuration section from which the <a class="xref" href="CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection.html">WebDriverCreationOptionsCollection</a> should be bound.</p>
</dd>
    <dt><code>configureOptions</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection.html">WebDriverCreationOptionsCollection</a>&gt;</dt>
    <dd><p>An optional method body which may inspect or alter the options after it has been bound from the configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection">IServiceCollection</a></dt>
    <dd><p>The service collection, so that calls may be chained.</p>
</dd>
  </dl>







  <h4 class="section" id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactory_Microsoft_Extensions_DependencyInjection_IServiceCollection_Microsoft_Extensions_Configuration_IConfigurationSection_System_Action_CSF_Extensions_WebDriver_Factories_WebDriverCreationOptionsCollection___remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
When calling this method, there is no need to use <a class="xref" href="CSF.Extensions.WebDriver.ServiceCollectionExtensions.html#CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactoryWithoutOptionsPattern_Microsoft_Extensions_DependencyInjection_IServiceCollection_">AddWebDriverFactoryWithoutOptionsPattern(IServiceCollection)</a>, as
this method implicitly adds those services as well.
</p>
<p>
This method enables the use of <a class="xref" href="CSF.Extensions.WebDriver.IGetsWebDriver.html">IGetsWebDriver</a> and its implementation <a class="xref" href="CSF.Extensions.WebDriver.WebDriverFactory.html">WebDriverFactory</a>: A 'universal WebDriver
factory'. This also adds an <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.ioptions-1">IOptions&lt;TOptions&gt;</a> for <a class="xref" href="CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection.html">WebDriverCreationOptionsCollection</a> to dependency injection.
</p>
<p>
This overload expects the specified configuration section to correspond directly with the root of the
<a class="xref" href="CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection.html">WebDriverCreationOptionsCollection</a> to be bound.
</p>
<p>
A good use-case for the <code class="paramref">configureOptions</code> parameter is to add secrets/credentials for remote WebDrivers
to the options. It is not best practice to include credentials/passwords in configuration which is checked into source control.
Instead, configure secrets like this in your environment directly and consume them in your application/tests as environment variables.
This options-configuration callback may be used to read those secrets from the environment and supplement the configuration, without
the need to include those secrets in any configuration files.
</p>
<p>
An important technique to remember is that the <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.configuration.iconfiguration">IConfiguration</a> may be populated from more than one source.
For example, in a Microsoft Generic Host application, it is default behaviour to receive configuration from both an <code>appsettings.json</code>
as well as supplemental command-line parameters and/or environment variables.
That technique is very useful for setting the value of <a class="xref" href="CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection.html#CSF_Extensions_WebDriver_Factories_WebDriverCreationOptionsCollection_SelectedConfiguration">SelectedConfiguration</a>.
The options collection in a configuration file may contain all of the WebDriver configurations that your application would use in any scenario, and may
use a single command-line parameter or environment variable to choose which of those WebDriver configurations should be activated.
</p>
</div>




  <a id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactory_" data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions.AddWebDriverFactory*"></a>

  <h3 id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactory_Microsoft_Extensions_DependencyInjection_IServiceCollection_System_String_System_Action_CSF_Extensions_WebDriver_Factories_WebDriverCreationOptionsCollection__" data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions.AddWebDriverFactory(Microsoft.Extensions.DependencyInjection.IServiceCollection,System.String,System.Action{CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection})">
  AddWebDriverFactory(IServiceCollection, string, Action&lt;WebDriverCreationOptionsCollection&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/csf-dev/WebDriverExtras/blob/master/CSF.Extensions.WebDriver/ServiceCollectionExtensions.cs/#L63"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Adds/registers the web driver factory and related services for applications which make use of the Options &amp; Configuration
patterns.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static IServiceCollection AddWebDriverFactory(this IServiceCollection services, string configPath = &quot;WebDriverFactory&quot;, Action&lt;WebDriverCreationOptionsCollection&gt; configureOptions = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>services</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection">IServiceCollection</a></dt>
    <dd><p>The service collection to which the options should be added.</p>
</dd>
    <dt><code>configPath</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>An optional path from the root of the configuration; if <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a> then the default value of <code>WebDriverFactory</code> will be used.</p>
</dd>
    <dt><code>configureOptions</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection.html">WebDriverCreationOptionsCollection</a>&gt;</dt>
    <dd><p>An optional method body which may inspect or alter the options after it has been bound from the configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection">IServiceCollection</a></dt>
    <dd><p>The service collection, so that calls may be chained.</p>
</dd>
  </dl>







  <h4 class="section" id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactory_Microsoft_Extensions_DependencyInjection_IServiceCollection_System_String_System_Action_CSF_Extensions_WebDriver_Factories_WebDriverCreationOptionsCollection___remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
When calling this method, there is no need to use <a class="xref" href="CSF.Extensions.WebDriver.ServiceCollectionExtensions.html#CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactoryWithoutOptionsPattern_Microsoft_Extensions_DependencyInjection_IServiceCollection_">AddWebDriverFactoryWithoutOptionsPattern(IServiceCollection)</a>, as
this method implicitly adds those services as well.
</p>
<p>
This method enables the use of <a class="xref" href="CSF.Extensions.WebDriver.IGetsWebDriver.html">IGetsWebDriver</a> and its implementation <a class="xref" href="CSF.Extensions.WebDriver.WebDriverFactory.html">WebDriverFactory</a>: A 'universal WebDriver
factory'. This also adds an <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.ioptions-1">IOptions&lt;TOptions&gt;</a> for <a class="xref" href="CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection.html">WebDriverCreationOptionsCollection</a> to dependency injection,
using the <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.configuration.iconfiguration">IConfiguration</a> present in the application.
</p>
<p>
If the <code class="paramref">configPath</code> is not specified, then the options will be created from a configuration path named <code>WebDriverFactory</code>,
relative to the root of the application's configuration.
</p>
<p>
A good use-case for the <code class="paramref">configureOptions</code> parameter is to add secrets/credentials for remote WebDrivers
to the options. It is not best practice to include credentials/passwords in configuration which is checked into source control.
Instead, configure secrets like this in your environment directly and consume them in your application/tests as environment variables.
This options-configuration callback may be used to read those secrets from the environment and supplement the configuration, without
the need to include those secrets in any configuration files.
</p>
<p>
An important technique to remember is that the <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.configuration.iconfiguration">IConfiguration</a> may be populated from more than one source.
For example, in a Microsoft Generic Host application, it is default behaviour to receive configuration from both an <code>appsettings.json</code>
as well as supplemental command-line parameters and/or environment variables.
That technique is very useful for setting the value of <a class="xref" href="CSF.Extensions.WebDriver.Factories.WebDriverCreationOptionsCollection.html#CSF_Extensions_WebDriver_Factories_WebDriverCreationOptionsCollection_SelectedConfiguration">SelectedConfiguration</a>.
The options collection in a configuration file may contain all of the WebDriver configurations that your application would use in any scenario, and may
use a single command-line parameter or environment variable to choose which of those WebDriver configurations should be activated.
</p>
</div>




  <a id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactoryWithoutOptionsPattern_" data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions.AddWebDriverFactoryWithoutOptionsPattern*"></a>

  <h3 id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactoryWithoutOptionsPattern_Microsoft_Extensions_DependencyInjection_IServiceCollection_" data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions.AddWebDriverFactoryWithoutOptionsPattern(Microsoft.Extensions.DependencyInjection.IServiceCollection)">
  AddWebDriverFactoryWithoutOptionsPattern(IServiceCollection)
  <a class="header-action link-secondary" title="View source" href="https://github.com/csf-dev/WebDriverExtras/blob/master/CSF.Extensions.WebDriver/ServiceCollectionExtensions.cs/#L145"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Adds/registers the service types required to make use of a WebDriver factory which does not depend upon the
Options &amp; Configuration patterns.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static IServiceCollection AddWebDriverFactoryWithoutOptionsPattern(this IServiceCollection services)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>services</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection">IServiceCollection</a></dt>
    <dd><p>The service collection to which the services should be added.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection">IServiceCollection</a></dt>
    <dd><p>The service collection, so that calls may be chained.</p>
</dd>
  </dl>







  <h4 class="section" id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactoryWithoutOptionsPattern_Microsoft_Extensions_DependencyInjection_IServiceCollection__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Use this method if your application does not make use of either <code>Microsoft.Extensions.Options</code> or
<code>Microsoft.Extensions.Configuration</code>. You will not be able to use <a class="xref" href="CSF.Extensions.WebDriver.IGetsWebDriver.html">IGetsWebDriver</a> or
<a class="xref" href="CSF.Extensions.WebDriver.WebDriverFactory.html">WebDriverFactory</a> but you will be able to use <a class="xref" href="CSF.Extensions.WebDriver.Factories.ICreatesWebDriverFromOptions.html">ICreatesWebDriverFromOptions</a>.
</p>
<p>
If you do use the Options &amp; Configuration patterns then use an overload of
<a class="xref" href="CSF.Extensions.WebDriver.ServiceCollectionExtensions.html#CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverFactory_Microsoft_Extensions_DependencyInjection_IServiceCollection_System_String_System_Action_CSF_Extensions_WebDriver_Factories_WebDriverCreationOptionsCollection__">AddWebDriverFactory(IServiceCollection, string, Action&lt;WebDriverCreationOptionsCollection&gt;)</a>
instead and do not use this method.  The <code>UseWebDriverFactory</code> methods implicitly include all of the services
which are included here.
</p>
</div>




  <a id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverQuirks_" data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions.AddWebDriverQuirks*"></a>

  <h3 id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverQuirks_Microsoft_Extensions_DependencyInjection_IServiceCollection_CSF_Extensions_WebDriver_Quirks_QuirksData_System_Boolean_System_String_" data-uid="CSF.Extensions.WebDriver.ServiceCollectionExtensions.AddWebDriverQuirks(Microsoft.Extensions.DependencyInjection.IServiceCollection,CSF.Extensions.WebDriver.Quirks.QuirksData,System.Boolean,System.String)">
  AddWebDriverQuirks(IServiceCollection, QuirksData, bool, string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/csf-dev/WebDriverExtras/blob/master/CSF.Extensions.WebDriver/ServiceCollectionExtensions.cs/#L211"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Adds services to depenency injection which support the 'browser quirks' infrastructure.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static IServiceCollection AddWebDriverQuirks(this IServiceCollection services, QuirksData quirksData = null, bool useOptions = true, string configPath = &quot;WebDriverQuirks&quot;)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>services</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection">IServiceCollection</a></dt>
    <dd><p>The service collection to which the services should be added.</p>
</dd>
    <dt><code>quirksData</code> <a class="xref" href="CSF.Extensions.WebDriver.Quirks.QuirksData.html">QuirksData</a></dt>
    <dd><p>An optional source of static quirks data.</p>
</dd>
    <dt><code>useOptions</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether or not to use quirks information from the Microsoft Options Pattern as a source of data,
to either provide all of the quirks, or to supplement/shadow the data in <code class="paramref">quirksData</code>.</p>
</dd>
    <dt><code>configPath</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>A string indicating the configuration path at which to find quirks data; meaningless and unused if <code class="paramref">useOptions</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">false</a>.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection">IServiceCollection</a></dt>
    <dd></dd>
  </dl>







  <h4 class="section" id="CSF_Extensions_WebDriver_ServiceCollectionExtensions_AddWebDriverQuirks_Microsoft_Extensions_DependencyInjection_IServiceCollection_CSF_Extensions_WebDriver_Quirks_QuirksData_System_Boolean_System_String__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Either <code class="paramref">quirksData</code> must not be <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a> or <code class="paramref">useOptions</code> must be
<a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">true</a> or else an exception will be raised from this method.
</p>
<p>
If you wish to make use of the browser-quirks functionality provided by this library then this method is used to
set that functionality up within dependency injection.  This method permits the usage of up to two sources of information
for the <a class="xref" href="CSF.Extensions.WebDriver.Quirks.QuirksData.html">QuirksData</a> which shall be used to indicate which browsers/versions are affected by which quirks:
</p>
<ul><li>A static source of data, provided via <code class="paramref">quirksData</code></li><li>Data coming from the Microsoft Options Pattern, if <code class="paramref">useOptions</code> is set to
<a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">true</a> (this is the default value)</li></ul>
<p>
The purpose of using two sources of data for the quirks is described in more depth in the remarks to
<a class="xref" href="CSF.Extensions.WebDriver.Quirks.QuirksDataProvider.html">QuirksDataProvider</a> but in short it allows library authors to provide some static quirks data which may be
supplemented and/or overridden (in part or completely) by user-specified options.
</p>
<p>
If you wish to use <a class="xref" href="CSF.Extensions.WebDriver.Proxies.ProxyCreationOptions.html#CSF_Extensions_WebDriver_Proxies_ProxyCreationOptions_AddQuirks">AddQuirks</a> then this method must be used in order to add the required
services to DI.
</p>
</div>

  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd><p>If both <code class="paramref">quirksData</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a> and <code class="paramref">useOptions</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">false</a>.</p>
</dd>
  </dl>

  <dl class="typelist seealso">
    <dt>See Also</dt>
    <dd>
    <div><a class="xref" href="CSF.Extensions.WebDriver.Quirks.QuirksDataProvider.html">QuirksDataProvider</a></div>
    <div><a class="xref" href="CSF.Extensions.WebDriver.Quirks.IHasQuirks.html">IHasQuirks</a></div>
    </dd>
  </dl>



</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/csf-dev/WebDriverExtras/blob/master/CSF.Extensions.WebDriver/ServiceCollectionExtensions.cs/#L19" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
